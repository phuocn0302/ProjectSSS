[gd_scene load_steps=12 format=3 uid="uid://buf303bo03piu"]

[ext_resource type="Script" uid="uid://db3g5uxmaqcvm" path="res://gdj/entities/bosses/worm/WormBossBody.gdj" id="1_tvu7f"]
[ext_resource type="SpriteFrames" uid="uid://byk3qb8ofvyaf" path="res://src/entities/bosses/worm/spriteframes/body_spriteframes.tres" id="2_o5krg"]
[ext_resource type="Shader" uid="uid://n4chem2otws2" path="res://src/shaders/entity_shader.gdshader" id="2_wkfbj"]
[ext_resource type="Script" uid="uid://bvby18eo8k1pe" path="res://gdj/commons/components/ComponentContainer.gdj" id="4_tvu7f"]
[ext_resource type="Script" uid="uid://bdwpmg6b140ck" path="res://gdj/commons/components/sfx/HitFlashComponent.gdj" id="5_7jwdr"]
[ext_resource type="Script" uid="uid://d0gf87hveesrj" path="res://gdj/commons/components/etc/HurtboxComponent.gdj" id="6_5v80o"]
[ext_resource type="Script" uid="uid://k4bvu3ajrnp" path="res://gdj/commons/components/etc/HitboxComponent.gdj" id="7_ygih8"]
[ext_resource type="Script" uid="uid://cs3muaisgjrme" path="res://gdj/entities/projectiles/spawners/ProjectileSpawnerContainer.gdj" id="8_waoit"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_s0e6k"]
shader = ExtResource("2_wkfbj")
shader_parameter/outline_enabled = true
shader_parameter/outline_color = Color(1, 0, 0, 1)
shader_parameter/outline_size = 1.0
shader_parameter/alpha_threshold = 0.0
shader_parameter/outline_samples = 4
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_strength = 0.0

[sub_resource type="CircleShape2D" id="CircleShape2D_yderm"]
radius = 23.0217

[sub_resource type="CircleShape2D" id="CircleShape2D_g12io"]
radius = 16.0312

[node name="WormBossBody" type="Node2D"]
script = ExtResource("1_tvu7f")
metadata/_custom_type_script = "uid://db3g5uxmaqcvm"

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_s0e6k")
sprite_frames = ExtResource("2_o5krg")
autoplay = "default"

[node name="JointSegmentPos" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(0, -31)

[node name="Components" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("4_tvu7f")
metadata/_custom_type_script = "uid://bvby18eo8k1pe"

[node name="HitFlashComponent" type="Node" parent="Components" node_paths=PackedStringArray("sprite")]
unique_name_in_owner = true
script = ExtResource("5_7jwdr")
sprite = NodePath("../../AnimatedSprite2D")
metadata/_custom_type_script = "uid://bdwpmg6b140ck"

[node name="HurtboxComponent" type="Area2D" parent="Components"]
unique_name_in_owner = true
collision_layer = 16
collision_mask = 0
script = ExtResource("6_5v80o")
metadata/_custom_type_script = "uid://d0gf87hveesrj"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Components/HurtboxComponent"]
shape = SubResource("CircleShape2D_yderm")

[node name="HitboxComponent" type="Area2D" parent="Components"]
unique_name_in_owner = true
collision_layer = 0
script = ExtResource("7_ygih8")
metadata/_custom_type_script = "uid://k4bvu3ajrnp"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Components/HitboxComponent"]
shape = SubResource("CircleShape2D_g12io")

[node name="Spawners" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("8_waoit")
metadata/_custom_type_script = "uid://cs3muaisgjrme"

[node name="ShootTrigger" type="VisibleOnScreenNotifier2D" parent="."]
unique_name_in_owner = true
